(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{106:function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(13),i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.wallet=o.createIdentity(),this.nonce=-1,this.network=t,this.pid=this.wallet.address}var t,n,i;return t=e,(n=[{key:"toHash",value:function(e){var t=JSON.stringify(e);return o.hash.keccak256(t)}},{key:"sign",value:function(e){var t=this.toHash(e);return o.sign(this.wallet.privateKey,t)}},{key:"verify",value:function(e,t,n){return o.recover(e,t)===n}},{key:"generateTx",value:function(e,t,n){var r={type:n,amount:t,from:this.wallet.address,to:e,nonce:++this.nonce};return{contents:r,sig:this.sign(r)}}},{key:"tick",value:function(){}}])&&r(t.prototype,n),i&&r(t,i),e}();e.exports=i},11:function(e,t,n){n(13);var r=n(214),o=n(106),i=n(205),a=(n(30),new r(10,0)),s=[],u=new i(a);a.paypal=u,a.peers[u.pid]=[],s.push(u);for(var c=1;c<=2;c++)s.push(new o(a)),a.connectToPaypal(s[c],u);console.log(a.peers);var l=s[0].generateTx(s[1].pid,70,"mint");s[0].applyTransaction(l);for(var f=0;f<3;f++)console.log(a.peers[s[f].pid].length);var p=s[1].generateTx(s[2].pid,14,"send");a.broadcastTo(s[1].pid,s[0],p),a.run(100),console.log(u.state),e.exports={nodes:s,network:a}},159:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(158),a=n.n(i),s=(n(326),n(325),n(11)),u=n(1);function c(e){return(c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==c(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var y,h,m;u.g(),u.a().on("start",function(e){e.fx=e.x,e.fy=e.y}).on("drag",function(e){e.fx=u.c.x,e.fy=u.c.y}).on("end",function(e){e.fx=null,e.fy=null});function v(){m&&y.attr("x2",u.e(this)[0]).attr("y2",u.e(this)[1])}function b(){!1,m&&(y.classed("hidden",!0),m=null)}function g(e){}var w,k,x=!1,S=function(e){e.classed("node",!0).append("circle").attr("r",function(e){return e.pid===h[0].pid?25:0}).attr("xlink:href",function(e){if(e.pid===h[0].pid)return e.img}).attr("cx",function(e){return e.x}).attr("cy",function(e){return e.y}).attr("fill",function(e){return e.color}).on("mousedown",function(e){x||(m=e,y.classed("hidden",!1).attr("x1",m.x).attr("y1",m.y).attr("x2",m.x).attr("y2",m.y))}).on("mouseup",function(e){m&&e.pid===h[0].pid&&(y.classed("hidden",!0),w.insert("line",".node").attr("stroke-width",2).attr("stroke","grey").attr("x1",m.x).attr("y1",m.y).attr("x2",e.x).attr("y2",e.y).on("mousemove",g),x=!0,k())}),e.append("text").classed("noselect",!0).attr("font-size",40).attr("x",function(e){return e.x-22}).attr("y",function(e){return e.y+15}).text(function(e){if(e.pid!==h[0].pid)return e.emoji}).on("mousedown",function(e){x||(m=e,y.classed("hidden",!1).attr("x1",m.x).attr("y1",m.y).attr("x2",m.x).attr("y2",m.y))}).on("mouseup",function(e){m&&e.pid===h[0].pid&&(y.classed("hidden",!0),w.insert("line",".node").attr("stroke-width",2).attr("stroke","grey").attr("x1",m.x).attr("y1",m.y).attr("x2",e.x).attr("y2",e.y).on("mousemove",g),x=!0,k())}),e.append("svg:image").attr("xlink:href",function(e){return e.img}).attr("x",function(e){return e.x-14}).attr("y",function(e){return e.y-14}).attr("height",function(e){return e.img?28:0}).attr("width",function(e){return e.img?28:0}).on("mouseup",function(e){m&&e.pid===h[0].pid&&(y.classed("hidden",!0),w.insert("line",".node").attr("stroke-width",2).attr("stroke","grey").attr("x1",m.x).attr("y1",m.y).attr("x2",e.x).attr("y2",e.y).on("mousemove",g),x=!0,k())})},E=function(e){e.attr("fill",function(e){if(e.pid===h[0].pid)return e.color}).attr("stroke",function(e){return e.color}).attr("stroke-width",function(e){return 5})},j=function(e){e.classed("link",!0).attr("stroke-width",2).attr("stroke","grey").attr("x1",function(e){return e.source.x}).attr("y1",function(e){return e.source.y}).attr("x2",function(e){return e.target.x}).attr("y2",function(e){return e.target.y})},O=function(e){},_=function(e){e.classed("message",!0).classed("noselect",!0).attr("font-size",30).attr("x",function(e){return T(e.sender).x-15}).attr("y",function(e){return T(e.sender).y+10}).text("\ud83d\udcb5").append("tspan").text("\ud83e\udd84\u27a1\ufe0f\ud83d\udc2f").attr("font-size",15).attr("dx",-38).attr("dy",12)},T=function(e){return h.find(function(t){return t.pid===e})},P=function(e,t){var n=(e.time-e.sentTime)/(e.recvTime-e.sentTime),r=T(e.recipient)[t],o=T(e.sender)[t];return n*(r-o)+o},C=function(e){e.transition().duration(300).ease(u.b).attr("x",function(e){return P(e,"x")-15}).attr("y",function(e){return P(e,"y")+10})},N=function(e){e.size()&&w.insert("circle",".node").attr("fill",h[0].badSpend?"red":"#7ed321").attr("cx",function(e){return h[0].x}).attr("cy",function(e){return h[0].y}).attr("r",function(e){return 33}).attr("opacity",function(e){return 0}).transition().duration(400).attr("opacity",function(e){return 1}).transition().duration(400).attr("opacity",function(e){return 0})},Q=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,d(t).apply(this,arguments))}var n,r,i;return n=t,(r=[{key:"componentDidMount",value:function(){w=u.f(this.viz),this.d3Graph=u.f(this.viz),y=this.d3Graph.append("line").attr("class","dragline hidden").attr("stroke-width",2).attr("stroke","lightgrey")}},{key:"shouldComponentUpdate",value:function(e){h=e.nodes;this.props.onClick;k=this.props.createdLink,this.d3Graph=u.f(this.viz),u.f(this.svg).on("mousemove",v).on("mouseup",b).on("mousedown",function(e){null==m});var t=this.d3Graph.selectAll(".node").data(e.nodes,function(e){return e.pid});t.enter().append("g").call(S),t.exit().remove(),t.call(E);var n=this.d3Graph.selectAll(".link").data(e.links);n.enter().insert("line",".node").call(j),n.exit().remove(),n.call(O);var r=this.d3Graph.selectAll(".message").data(e.messages,function(e){return e.message.sig+":"+e.recipient+":"+e.sender}),o=r.enter().insert("text",".node").call(_);return r.exit().call(N).remove(),r.merge(o).call(C),!1}},{key:"render",value:function(){var e=this;return o.a.createElement("svg",{ref:function(t){return e.svg=t},width:"400px",height:"300px"},o.a.createElement("g",{ref:function(t){return e.viz=t}}))}}])&&f(n.prototype,r),i&&f(n,i),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");l(e.prototype,t&&t.prototype),t&&l(e,t)}(t,e),t}(r.Component),z=n(49),M=function(e){var t=e.spend,n=e.disabled;return o.a.createElement(z.a,{className:"spend",onClick:t,disabled:n},"Send $10 to @tiger")};function R(e){return(R="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t){return!t||"object"!==R(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(e){return(A=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var H=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),L(this,A(t).apply(this,arguments))}var n,r,i;return n=t,(r=[{key:"render",value:function(){var e=this.props.paypal,t=e.pid,n=Object.keys(e.state).filter(function(e){return e!=t}),r=0;this.props.linked||(n.shift(),r=1);var i=["@unicorn","@tiger"],a=n.map(function(t,n){return o.a.createElement("div",{className:"ledger-row"},o.a.createElement("span",{className:"ledger-name"},i[n+r]),o.a.createElement("span",{className:"ledger-balance"},"$"+e.state[t].balance+".00"))});return o.a.createElement("div",{className:"ledger"},o.a.createElement("div",{className:"ledger-row"},o.a.createElement("span",{id:"venmo-database"},"Venmo's Database")),a)}}])&&D(n.prototype,r),i&&D(n,i),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");G(e.prototype,t&&t.prototype),t&&G(e,t)}(t,e),t}(r.Component);function I(e){return(I="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){W(e,t,n[t])})}return e}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $(e,t){return($=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function J(e,t){return!t||"object"!==I(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function V(e){return(V=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var K={nodes:[],links:[]},B=!0,q=!1,Y=void 0;try{for(var X,Z=s.nodes[Symbol.iterator]();!(B=(X=Z.next()).done);B=!0){var ee=X.value,te=!0,ne=!1,re=void 0;try{for(var oe,ie=s.network.peers[ee.pid][Symbol.iterator]();!(te=(oe=ie.next()).done);te=!0)oe.value}catch(e){ne=!0,re=e}finally{try{te||null==ie.return||ie.return()}finally{if(ne)throw re}}}}catch(e){q=!0,Y=e}finally{try{B||null==Z.return||Z.return()}finally{if(q)throw Y}}K.links.push({source:s.nodes[2],target:s.network.paypal}),s.nodes[0].x=200,s.nodes[0].y=145,s.nodes[1].x=25,s.nodes[1].y=160,s.nodes[2].x=330,s.nodes[2].y=270,s.nodes[0].color="#0089FF",s.nodes[0].img="venmo.svg",s.nodes[1].emoji="\ud83e\udd84",s.nodes[2].emoji="\ud83d\udc2f";var ae=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=J(this,V(t).call(this))).state={speed:1,messages:[],disabled:!0},e}var n,r,i;return n=t,(r=[{key:"componentDidMount",value:function(){this.timer=u.d(this.tick.bind(this),300/this.state.speed)}},{key:"setMessageQueue",value:function(e){var t=e.messageQueue,n=[];return Object.keys(t).forEach(function(r,o){var i=!0,a=!1,s=void 0;try{for(var u,c=t[r][Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var l=F({},u.value,{time:e.time});l.recipient=l.recipient.pid,n.push(l)}}catch(e){a=!0,s=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw s}}}),n}},{key:"tick",value:function(){s.network.tick();var e=this.setMessageQueue(s.network);this.setState({messages:e})}},{key:"createdLink",value:function(){this.setState({disabled:!1})}},{key:"getCurrNode",value:function(e){if(s.network)return s.network.agents.find(function(t){return t.pid===e})}},{key:"spend",value:function(e){console.log(e);var t=this.getCurrNode(e.pid),n=t.generateTx(s.nodes[2].pid,10,"send");s.network.broadcast(t.pid,n)}},{key:"render",value:function(){var e=this.state,t=e.messages,n=(e.speed,e.disabled);return o.a.createElement("div",{id:"sandbox-container"},o.a.createElement(Q,{nodes:s.nodes,links:K.links,messages:t||[],createdLink:this.createdLink.bind(this)}),o.a.createElement(H,{linked:!n,paypal:s.network.paypal}),o.a.createElement(M,{spend:this.spend.bind(this,s.nodes[1]),disabled:n}))}}])&&U(n.prototype,r),i&&U(n,i),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");$(e.prototype,t&&t.prototype),t&&$(e,t)}(t,e),t}(r.Component),se=n(4);function ue(e){return(ue="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ce(e,t){return(ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fe(e,t){return!t||"object"!==ue(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pe(e){return(pe=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var de,ye,he=function(e){e.classed("node",!0).append("circle").attr("r",function(e){return e.pid===de[0].pid?25:0}).attr("xlink:href",function(e){if(e.pid===de[0].pid)return e.img}).attr("cx",function(e){return e.x}).attr("cy",function(e){return e.y}).attr("fill",function(e){return e.color}),e.append("text").classed("noselect",!0).attr("font-size",40).attr("x",function(e){return e.x-22}).attr("y",function(e){return e.y+15}).text(function(e){if(e.pid!==de[0].pid)return e.emoji}),e.append("svg:image").attr("xlink:href",function(e){return e.img}).attr("x",function(e){return e.x-14}).attr("y",function(e){return e.y-14}).attr("height",function(e){return e.img?28:0}).attr("width",function(e){return e.img?28:0})},me=function(e){e.attr("fill",function(e){if(e.pid===de[0].pid)return e.color}).attr("stroke",function(e){return e.color}).attr("stroke-width",function(e){return 5})},ve=function(e){e.classed("link",!0).attr("stroke-width",2).attr("stroke","grey").attr("x1",function(e){return e.source.x}).attr("y1",function(e){return e.source.y}).attr("x2",function(e){return e.target.x}).attr("y2",function(e){return e.target.y})},be=function(e){},ge=function(e){e.classed("message",!0).classed("noselect",!0).attr("font-size",30).attr("x",function(e){return we(e.sender).x-15}).attr("y",function(e){return we(e.sender).y+10}).text("\ud83d\udcb5").append("tspan").text(function(e){return console.log(e),we(e.sender).emoji+"\u27a1\ufe0f"+we(e.message.contents.to).emoji}).attr("font-size",15).attr("dx",-38).attr("dy",12)},we=function(e){return de.find(function(t){return t.pid===e})},ke=function(e,t){var n=(e.time-e.sentTime)/(e.recvTime-e.sentTime),r=we(e.recipient)[t],o=we(e.sender)[t];return n*(r-o)+o},xe=function(e){e.transition().duration(300).ease(u.b).attr("x",function(e){return ke(e,"x")-15}).attr("y",function(e){return ke(e,"y")+10})},Se=function(e){e.size()&&ye.insert("circle",".node").attr("fill",de[0].badSpend?"red":"#7ed321").attr("cx",function(e){return de[0].x}).attr("cy",function(e){return de[0].y}).attr("r",function(e){return 33}).attr("opacity",function(e){return 0}).transition().duration(400).attr("opacity",function(e){return 1}).transition().duration(400).attr("opacity",function(e){return 0})},Ee=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),fe(this,pe(t).apply(this,arguments))}var n,r,i;return n=t,(r=[{key:"componentDidMount",value:function(){ye=u.f(this.viz),this.d3Graph=u.f(this.viz)}},{key:"shouldComponentUpdate",value:function(e){de=e.nodes;this.props.onClick;this.d3Graph=u.f(this.viz),u.f(this.svg);var t=this.d3Graph.selectAll(".node").data(e.nodes,function(e){return e.pid});t.enter().append("g").call(he),t.exit().remove(),t.call(me);var n=this.d3Graph.selectAll(".link").data(e.links);n.enter().insert("line",".node").call(ve),n.exit().remove(),n.call(be);var r=this.d3Graph.selectAll(".message").data(e.messages,function(e){return e.message.sig+":"+e.recipient+":"+e.sender}),o=r.enter().insert("text",".node").call(ge);return r.exit().call(Se).remove(),r.merge(o).call(xe),!1}},{key:"render",value:function(){var e=this;return o.a.createElement("svg",{ref:function(t){return e.svg=t},width:"400px",height:"300px"},o.a.createElement("g",{ref:function(t){return e.viz=t}}))}}])&&le(n.prototype,r),i&&le(n,i),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");ce(e.prototype,t&&t.prototype),t&&ce(e,t)}(t,e),t}(r.Component),je=function(e){var t=e.spend,n=e.disabled;return o.a.createElement(z.a,{className:"spend",onClick:t,disabled:n},"Send $10 to a friend")};function Oe(e){return(Oe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _e(e,t){return(_e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pe(e,t){return!t||"object"!==Oe(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ce(e){return(Ce=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var Ne=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Pe(this,Ce(t).apply(this,arguments))}var n,r,i;return n=t,(r=[{key:"render",value:function(){var e=this.props.paypal,t=e.pid,n=["@unicorn","@tiger","@hamster","@ribbit","@fox","@koala","@chicken"],r=Object.keys(e.state).filter(function(e){return e!=t}).map(function(t,r){return o.a.createElement("div",{className:"ledger-row"},o.a.createElement("span",{className:"ledger-name"},n[r]),o.a.createElement("span",{className:"ledger-balance"},"$"+e.state[t].balance+".00"))});return o.a.createElement("div",{className:"ledger"},o.a.createElement("div",{className:"ledger-row"},o.a.createElement("span",{id:"venmo-database"},"Venmo's Database")),r)}}])&&Te(n.prototype,r),i&&Te(n,i),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");_e(e.prototype,t&&t.prototype),t&&_e(e,t)}(t,e),t}(r.Component);function Qe(e){return(Qe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Me(e,t,n[t])})}return e}function Me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Re(e,t){return(Re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function De(e,t){return!t||"object"!==Qe(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Le(e){return(Le=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var Ae={nodes:[],links:[]},He=!0,Ie=!1,Fe=void 0;try{for(var We,$e=se.nodes[Symbol.iterator]();!(He=(We=$e.next()).done);He=!0){var Ue=We.value,Je=!0,Ve=!1,Ke=void 0;try{for(var Be,qe=se.network.peers[Ue.pid][Symbol.iterator]();!(Je=(Be=qe.next()).done);Je=!0){var Ye=Be.value;Ae.links.push({source:Ue,target:Ye})}}catch(e){Ve=!0,Ke=e}finally{try{Je||null==qe.return||qe.return()}finally{if(Ve)throw Ke}}}}catch(e){Ie=!0,Fe=e}finally{try{He||null==$e.return||$e.return()}finally{if(Ie)throw Fe}}se.nodes[0].x=200,se.nodes[0].y=145,se.nodes[1].x=25,se.nodes[1].y=160,se.nodes[2].x=330,se.nodes[2].y=270,se.nodes[3].x=25,se.nodes[3].y=80,se.nodes[4].x=300,se.nodes[4].y=120,se.nodes[5].x=360,se.nodes[5].y=160,se.nodes[6].x=130,se.nodes[6].y=80,se.nodes[7].x=130,se.nodes[7].y=200,se.nodes[0].color="#0089FF",se.nodes[0].img="venmo.svg",se.nodes[1].emoji="\ud83e\udd84",se.nodes[2].emoji="\ud83d\udc2f",se.nodes[3].emoji="\ud83d\udc39",se.nodes[4].emoji="\ud83d\udc38",se.nodes[5].emoji="\ud83e\udd8a",se.nodes[6].emoji="\ud83d\udc28",se.nodes[7].emoji="\ud83d\udc14";var Xe=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=De(this,Le(t).call(this))).state={speed:1,messages:[]},e}var n,r,i;return n=t,(r=[{key:"componentDidMount",value:function(){this.timer=u.d(this.tick.bind(this),300/this.state.speed),u.d(this.randomSpend.bind(this),7e3)}},{key:"randomSpend",value:function(){var e=se.nodes[Math.floor(Math.random()*(se.nodes.length-2)+2)],t=se.nodes[Math.floor(Math.random()*(se.nodes.length-1)+1)];if(e.pid!==t.pid){var n=e.generateTx(t.pid,10,"send");se.network.broadcast(e.pid,n)}}},{key:"setMessageQueue",value:function(e){var t=e.messageQueue,n=[];return Object.keys(t).forEach(function(r,o){var i=!0,a=!1,s=void 0;try{for(var u,c=t[r][Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var l=ze({},u.value,{time:e.time});l.recipient=l.recipient.pid,n.push(l)}}catch(e){a=!0,s=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw s}}}),n}},{key:"tick",value:function(){se.network.tick();var e=this.setMessageQueue(se.network);this.setState({messages:e})}},{key:"getCurrNode",value:function(e){if(se.network)return se.network.agents.find(function(t){return t.pid===e})}},{key:"spend",value:function(e){console.log(e);var t=this.getCurrNode(e.pid),n=se.nodes[Math.floor(Math.random()*(se.nodes.length-2)+2)],r=t.generateTx(n.pid,10,"send");se.network.broadcast(t.pid,r)}},{key:"render",value:function(){var e=this.state,t=e.messages;e.speed;return o.a.createElement("div",{id:"sandbox-container"},o.a.createElement(Ee,{nodes:se.nodes,links:Ae.links,messages:t||[]}),o.a.createElement(Ne,{paypal:se.network.paypal}),o.a.createElement(je,{spend:this.spend.bind(this,se.nodes[1])}))}}])&&Ge(n.prototype,r),i&&Ge(n,i),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Re(e.prototype,t&&t.prototype),t&&Re(e,t)}(t,e),t}(r.Component),Ze=n(6);function et(e){return(et="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tt(e,t){return(tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rt(e,t){return!t||"object"!==et(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ot(e){return(ot=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var it,at,st;u.g(),u.a().on("start",function(e){e.fx=e.x,e.fy=e.y}).on("drag",function(e){e.fx=u.c.x,e.fy=u.c.y}).on("end",function(e){e.fx=null,e.fy=null});function ut(){st&&it.attr("x2",u.e(this)[0]).attr("y2",u.e(this)[1])}function ct(){!1,st&&(it.classed("hidden",!0),st=null)}var lt,ft=function(e){e.classed("node",!0).append("circle").attr("r",function(e){return e.pid===at[0].pid?25:0}).attr("xlink:href",function(e){if(e.pid===at[0].pid)return e.img}).attr("cx",function(e){return e.x}).attr("cy",function(e){return e.y}).attr("fill",function(e){return e.color}).on("mousedown",function(e){st=e,it.classed("hidden",!1).attr("x1",st.x).attr("y1",st.y).attr("x2",st.x).attr("y2",st.y)}).on("mouseup",function(e){st&&e.pid===at[0].pid&&(it.classed("hidden",!0),pt())}),e.append("text").classed("noselect",!0).attr("font-size",40).attr("x",function(e){return e.x-22}).attr("y",function(e){return e.y+15}).text(function(e){if(e.pid!==at[0].pid)return e.emoji}).on("mousedown",function(e){st=e,it.classed("hidden",!1).attr("x1",st.x).attr("y1",st.y).attr("x2",st.x).attr("y2",st.y)}).on("mouseup",function(e){st&&e.pid===at[0].pid&&it.classed("hidden",!0)}),e.append("svg:image").attr("xlink:href",function(e){return e.img}).attr("x",function(e){return e.x-14}).attr("y",function(e){return e.y-14}).attr("height",function(e){return e.img?28:0}).attr("width",function(e){return e.img?28:0}).on("mouseup",function(e){st&&e.pid===at[0].pid&&(it.classed("hidden",!0),pt())})},pt=function(){lt.insert("circle",".node").attr("fill","red").attr("cx",function(e){return at[0].x}).attr("cy",function(e){return at[0].y}).attr("r",function(e){return 40}).attr("opacity",function(e){return 0}).transition().duration(400).attr("opacity",function(e){return 1}).transition().duration(400).attr("opacity",function(e){return 0}),lt.append("text").classed("noselect",!0).attr("font-size",25).attr("fill","red").attr("x",function(e){return at[0].x-100}).attr("y",function(e){return at[0].y-50}).text("Wrong Country").attr("opacity",function(e){return 0}).transition().duration(500).attr("opacity",function(e){return 1}).transition().duration(400).attr("opacity",function(e){return 0}).remove()},dt=function(e){e.attr("fill",function(e){if(e.pid===at[0].pid)return e.color}).attr("stroke",function(e){return e.color}).attr("stroke-width",function(e){return 5})},yt=function(e){e.classed("link",!0).attr("stroke-width",2).attr("stroke","grey").attr("x1",function(e){return e.source.x}).attr("y1",function(e){return e.source.y}).attr("x2",function(e){return e.target.x}).attr("y2",function(e){return e.target.y})},ht=function(e){},mt=function(e){e.classed("message",!0).classed("noselect",!0).attr("font-size",30).attr("x",function(e){return vt(e.sender).x-15}).attr("y",function(e){return vt(e.sender).y+10}).text("\ud83d\udcb5").append("tspan").text(function(e){return console.log(e),vt(e.sender).emoji+"\u27a1\ufe0f"+vt(e.message.contents.to).emoji}).attr("font-size",15).attr("dx",-38).attr("dy",12)},vt=function(e){return at.find(function(t){return t.pid===e})},bt=function(e,t){var n=(e.time-e.sentTime)/(e.recvTime-e.sentTime),r=vt(e.recipient)[t],o=vt(e.sender)[t];return n*(r-o)+o},gt=function(e){e.transition().duration(300).ease(u.b).attr("x",function(e){return bt(e,"x")-15}).attr("y",function(e){return bt(e,"y")+10})},wt=function(e){e.size()&&lt.insert("circle",".node").attr("fill",at[0].badSpend?"red":"#7ed321").attr("cx",function(e){return at[0].x}).attr("cy",function(e){return at[0].y}).attr("r",function(e){return 33}).attr("opacity",function(e){return 0}).transition().duration(400).attr("opacity",function(e){return 1}).transition().duration(400).attr("opacity",function(e){return 0})},kt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),rt(this,ot(t).apply(this,arguments))}var n,r,i;return n=t,(r=[{key:"componentDidMount",value:function(){lt=u.f(this.viz),this.d3Graph=u.f(this.viz),it=this.d3Graph.append("line").attr("class","dragline hidden").attr("stroke-width",2).attr("stroke","lightgrey")}},{key:"shouldComponentUpdate",value:function(e){at=e.nodes;this.props.onClick;this.props.createdLink,this.d3Graph=u.f(this.viz),u.f(this.svg).on("mousemove",ut).on("mouseup",ct).on("mousedown",function(e){null==st});var t=this.d3Graph.selectAll(".node").data(e.nodes,function(e){return e.pid});t.enter().append("g").call(ft),t.exit().remove(),t.call(dt);var n=this.d3Graph.selectAll(".link").data(e.links);n.enter().insert("line",".node").call(yt),n.exit().remove(),n.call(ht);var r=this.d3Graph.selectAll(".message").data(e.messages,function(e){return e.message.sig+":"+e.recipient+":"+e.sender}),o=r.enter().insert("text",".node").call(mt);return r.exit().call(wt).remove(),r.merge(o).call(gt),!1}},{key:"render",value:function(){var e=this;return o.a.createElement("svg",{ref:function(t){return e.svg=t},id:"border",width:"400px",height:"300px"},o.a.createElement("g",{ref:function(t){return e.viz=t}}))}}])&&nt(n.prototype,r),i&&nt(n,i),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");tt(e.prototype,t&&t.prototype),t&&tt(e,t)}(t,e),t}(r.Component),xt=function(e){var t=e.spend,n=e.disabled;return o.a.createElement(z.a,{className:"spend",onClick:t,disabled:n},"Send $10 to @tiger")};function St(e){return(St="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Et(e,t){return(Et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ot(e,t){return!t||"object"!==St(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _t(e){return(_t=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var Tt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ot(this,_t(t).apply(this,arguments))}var n,r,i;return n=t,(r=[{key:"render",value:function(){var e=this.props.paypal,t=e.pid,n=Object.keys(e.state).filter(function(e){return e!=t}),r=0;this.props.linked||(n.shift(),r=1);var i=["@unicorn","@tiger","@hamster","@ribbit","@fox","@koala","@chicken"],a=n.map(function(t,n){return o.a.createElement("div",{className:"ledger-row"},o.a.createElement("span",{className:"ledger-name"},i[n+r]),o.a.createElement("span",{className:"ledger-balance"},"$"+e.state[t].balance+".00"))});return o.a.createElement("div",{className:"ledger"},o.a.createElement("div",{className:"ledger-row"},o.a.createElement("span",{id:"venmo-database"},"Venmo's Database")),a)}}])&&jt(n.prototype,r),i&&jt(n,i),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Et(e.prototype,t&&t.prototype),t&&Et(e,t)}(t,e),t}(r.Component);function Pt(e){return(Pt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Nt(e,t,n[t])})}return e}function Nt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qt(e,t){return(Qt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mt(e,t){return!t||"object"!==Pt(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Rt(e){return(Rt=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var Gt={nodes:[],links:[]},Dt=!0,Lt=!1,At=void 0;try{for(var Ht,It=Ze.nodes[Symbol.iterator]();!(Dt=(Ht=It.next()).done);Dt=!0){var Ft=Ht.value,Wt=!0,$t=!1,Ut=void 0;try{for(var Jt,Vt=Ze.network.peers[Ft.pid][Symbol.iterator]();!(Wt=(Jt=Vt.next()).done);Wt=!0){var Kt=Jt.value;Gt.links.push({source:Ft,target:Kt})}}catch(e){$t=!0,Ut=e}finally{try{Wt||null==Vt.return||Vt.return()}finally{if($t)throw Ut}}}}catch(e){Lt=!0,At=e}finally{try{Dt||null==It.return||It.return()}finally{if(Lt)throw At}}Ze.nodes[0].x=200,Ze.nodes[0].y=145,Ze.nodes[1].x=165,Ze.nodes[1].y=260,Ze.nodes[2].x=330,Ze.nodes[2].y=270,Ze.nodes[3].x=25,Ze.nodes[3].y=80,Ze.nodes[4].x=300,Ze.nodes[4].y=120,Ze.nodes[5].x=360,Ze.nodes[5].y=160,Ze.nodes[6].x=130,Ze.nodes[6].y=80,Ze.nodes[7].x=130,Ze.nodes[7].y=200,Ze.nodes[0].color="#0089FF",Ze.nodes[0].img="venmo.svg",Ze.nodes[1].emoji="\ud83e\udd84",Ze.nodes[2].emoji="\ud83d\udc2f",Ze.nodes[3].emoji="\ud83d\udc39",Ze.nodes[4].emoji="\ud83d\udc38",Ze.nodes[5].emoji="\ud83e\udd8a",Ze.nodes[6].emoji="\ud83d\udc28",Ze.nodes[7].emoji="\ud83d\udc14";var Bt=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Mt(this,Rt(t).call(this))).state={speed:1,messages:[],disabled:!0},e}var n,r,i;return n=t,(r=[{key:"componentDidMount",value:function(){this.timer=u.d(this.tick.bind(this),300/this.state.speed),u.d(this.randomSpend.bind(this),2e3)}},{key:"randomSpend",value:function(){var e=Ze.nodes[Math.floor(Math.random()*(Ze.nodes.length-2)+2)],t=Ze.nodes[Math.floor(Math.random()*(Ze.nodes.length-2)+2)];if(e.pid!==t.pid){var n=e.generateTx(t.pid,10,"send");Ze.network.broadcast(e.pid,n)}}},{key:"setMessageQueue",value:function(e){var t=e.messageQueue,n=[];return Object.keys(t).forEach(function(r,o){var i=!0,a=!1,s=void 0;try{for(var u,c=t[r][Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var l=Ct({},u.value,{time:e.time});l.recipient=l.recipient.pid,n.push(l)}}catch(e){a=!0,s=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw s}}}),n}},{key:"tick",value:function(){Ze.network.tick();var e=this.setMessageQueue(Ze.network);this.setState({messages:e})}},{key:"createdLink",value:function(){this.setState({disabled:!1})}},{key:"getCurrNode",value:function(e){if(Ze.network)return Ze.network.agents.find(function(t){return t.pid===e})}},{key:"spend",value:function(e){console.log(e);var t=this.getCurrNode(e.pid),n=t.generateTx(Ze.nodes[2].pid,10,"send");Ze.network.broadcast(t.pid,n)}},{key:"render",value:function(){var e=this.state,t=e.messages,n=(e.speed,e.disabled);return o.a.createElement("div",{id:"sandbox-container"},o.a.createElement(kt,{nodes:Ze.nodes,links:Gt.links,messages:t||[],createdLink:this.createdLink.bind(this)}),o.a.createElement(Tt,{linked:!n,paypal:Ze.network.paypal}),o.a.createElement(xt,{spend:this.spend.bind(this,Ze.nodes[1]),disabled:n}))}}])&&zt(n.prototype,r),i&&zt(n,i),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Qt(e.prototype,t&&t.prototype),t&&Qt(e,t)}(t,e),t}(r.Component),qt=n(3);function Yt(e){return(Yt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xt(e,t){return(Xt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function en(e,t){return!t||"object"!==Yt(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function tn(e){return(tn=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var nn,rn,on=function(e){e.classed("node",!0).append("circle").attr("r",function(e){return e.pid===nn[0].pid?25:0}).attr("xlink:href",function(e){if(e.pid===nn[0].pid)return e.img}).attr("cx",function(e){return e.x}).attr("cy",function(e){return e.y}).attr("fill",function(e){return e.color}),e.append("text").classed("noselect",!0).attr("font-size",40).attr("x",function(e){return e.x-22}).attr("y",function(e){return e.y+15}).text(function(e){if(e.pid!==nn[0].pid)return e.emoji}),e.append("svg:image").attr("xlink:href",function(e){return e.img}).attr("x",function(e){return e.x-14}).attr("y",function(e){return e.y-14}).attr("height",function(e){return e.img?28:0}).attr("width",function(e){return e.img?28:0})},an=function(e){e.attr("fill",function(e){if(e.pid===nn[0].pid)return e.color}).attr("stroke",function(e){return e.color}).attr("stroke-width",function(e){return 5})},sn=function(e){e.classed("link",!0).attr("stroke-width",2).attr("stroke","grey").attr("stroke-dasharray",function(e){return e.source.pid==nn[1].pid?4:0}).attr("x1",function(e){return e.source.x}).attr("y1",function(e){return e.source.y}).attr("x2",function(e){return e.target.x}).attr("y2",function(e){return e.target.y})},un=function(e){},cn=function(e){e.classed("message",!0).classed("noselect",!0).attr("font-size",30).attr("x",function(e){return ln(e.sender).x-15}).attr("y",function(e){return ln(e.sender).y+10}).text("\ud83d\udcb5").append("tspan").text(function(e){return console.log(e),ln(e.sender).emoji+"\u27a1\ufe0f"+ln(e.message.contents.to).emoji}).attr("font-size",15).attr("dx",-38).attr("dy",12)},ln=function(e){return nn.find(function(t){return t.pid===e})},fn=function(e,t){var n=(e.time-e.sentTime)/(e.recvTime-e.sentTime),r=ln(e.recipient)[t],o=ln(e.sender)[t];return n*(r-o)+o},pn=function(e){e.transition().duration(300).ease(u.b).attr("x",function(e){return fn(e,"x")-15}).attr("y",function(e){return fn(e,"y")+10})},dn=function(e){e.size()&&rn.insert("circle",".node").attr("fill",nn[0].badSpend?"red":"#7ed321").attr("cx",function(e){return nn[0].x}).attr("cy",function(e){return nn[0].y}).attr("r",function(e){return 33}).attr("opacity",function(e){return 0}).transition().duration(400).attr("opacity",function(e){return 1}).transition().duration(400).attr("opacity",function(e){return 0})},yn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),en(this,tn(t).apply(this,arguments))}var n,r,i;return n=t,(r=[{key:"componentDidMount",value:function(){rn=u.f(this.viz),this.d3Graph=u.f(this.viz)}},{key:"shouldComponentUpdate",value:function(e){nn=e.nodes;this.props.onClick;this.d3Graph=u.f(this.viz),u.f(this.svg);var t=this.d3Graph.selectAll(".node").data(e.nodes,function(e){return e.pid});t.enter().append("g").call(on),t.exit().remove(),t.call(an);var n=this.d3Graph.selectAll(".link").data(e.links);n.enter().insert("line",".node").call(sn),n.exit().remove(),n.call(un);var r=this.d3Graph.selectAll(".message").data(e.messages,function(e){return e.message.sig+":"+e.recipient+":"+e.sender}),o=r.enter().insert("text",".node").call(cn);return r.exit().call(dn).remove(),r.merge(o).call(pn),!1}},{key:"render",value:function(){var e=this;return o.a.createElement("svg",{ref:function(t){return e.svg=t},width:"400px",height:"300px"},o.a.createElement("g",{ref:function(t){return e.viz=t}}))}}])&&Zt(n.prototype,r),i&&Zt(n,i),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Xt(e.prototype,t&&t.prototype),t&&Xt(e,t)}(t,e),t}(r.Component),hn=function(e){var t=e.spend,n=e.disabled;return o.a.createElement(z.a,{className:"spend",onClick:t,disabled:n},"Send $10 to a friend")};function mn(e){return(mn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vn(e,t){return(vn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gn(e,t){return!t||"object"!==mn(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wn(e){return(wn=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var kn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),gn(this,wn(t).apply(this,arguments))}var n,r,i;return n=t,(r=[{key:"render",value:function(){var e=this.props.paypal,t=e.pid,n=["@unicorn","@tiger","@hamster","@ribbit","@fox","@koala","@chicken"],r=Object.keys(e.state).filter(function(e){return e!=t}).map(function(t,r){return o.a.createElement("div",{className:"ledger-row"},o.a.createElement("span",{className:"ledger-name"},n[r]),o.a.createElement("span",{className:"ledger-balance"},"$"+e.state[t].balance+".00"))});return o.a.createElement("div",{className:"ledger"},o.a.createElement("div",{className:"ledger-row"},o.a.createElement("span",{id:"venmo-database"},"Venmo's Database")),r)}}])&&bn(n.prototype,r),i&&bn(n,i),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");vn(e.prototype,t&&t.prototype),t&&vn(e,t)}(t,e),t}(r.Component);function xn(e){return(xn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){En(e,t,n[t])})}return e}function En(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jn(e,t){return(jn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function On(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _n(e,t){return!t||"object"!==xn(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Tn(e){return(Tn=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var Pn={nodes:[],links:[]},Cn=!0,Nn=!1,Qn=void 0;try{for(var zn,Mn=qt.nodes[Symbol.iterator]();!(Cn=(zn=Mn.next()).done);Cn=!0){var Rn=zn.value,Gn=!0,Dn=!1,Ln=void 0;try{for(var An,Hn=qt.network.peers[Rn.pid][Symbol.iterator]();!(Gn=(An=Hn.next()).done);Gn=!0){var In=An.value;Pn.links.push({source:Rn,target:In})}}catch(e){Dn=!0,Ln=e}finally{try{Gn||null==Hn.return||Hn.return()}finally{if(Dn)throw Ln}}}}catch(e){Nn=!0,Qn=e}finally{try{Cn||null==Mn.return||Mn.return()}finally{if(Nn)throw Qn}}qt.nodes[0].x=200,qt.nodes[0].y=145,qt.nodes[1].x=25,qt.nodes[1].y=160,qt.nodes[2].x=330,qt.nodes[2].y=270,qt.nodes[3].x=25,qt.nodes[3].y=80,qt.nodes[4].x=300,qt.nodes[4].y=120,qt.nodes[5].x=360,qt.nodes[5].y=160,qt.nodes[6].x=130,qt.nodes[6].y=80,qt.nodes[7].x=130,qt.nodes[7].y=200,qt.nodes[0].color="#0089FF",qt.nodes[0].img="venmo.svg",qt.nodes[1].emoji="\ud83e\udd84",qt.nodes[2].emoji="\ud83d\udc2f",qt.nodes[3].emoji="\ud83d\udc39",qt.nodes[4].emoji="\ud83d\udc38",qt.nodes[5].emoji="\ud83e\udd8a",qt.nodes[6].emoji="\ud83d\udc28",qt.nodes[7].emoji="\ud83d\udc14";var Fn=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=_n(this,Tn(t).call(this))).state={speed:1,messages:[]},e}var n,r,i;return n=t,(r=[{key:"componentDidMount",value:function(){this.timer=u.d(this.tick.bind(this),300/this.state.speed),u.d(this.randomSpend.bind(this),2e3)}},{key:"randomSpend",value:function(){var e=qt.nodes[Math.floor(Math.random()*(qt.nodes.length-2)+2)],t=qt.nodes[Math.floor(Math.random()*(qt.nodes.length-1)+1)];if(e.pid!==t.pid){var n=e.generateTx(t.pid,10,"send");qt.network.broadcast(e.pid,n)}}},{key:"setMessageQueue",value:function(e){var t=e.messageQueue,n=[];return Object.keys(t).forEach(function(r,o){var i=!0,a=!1,s=void 0;try{for(var u,c=t[r][Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var l=Sn({},u.value,{time:e.time});l.recipient=l.recipient.pid,n.push(l)}}catch(e){a=!0,s=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw s}}}),n}},{key:"tick",value:function(){qt.network.tick();var e=this.setMessageQueue(qt.network);this.setState({messages:e})}},{key:"getCurrNode",value:function(e){if(qt.network)return qt.network.agents.find(function(t){return t.pid===e})}},{key:"spend",value:function(e){console.log(e);var t=this.getCurrNode(e.pid),n=qt.nodes[Math.floor(Math.random()*(qt.nodes.length-2)+2)],r=t.generateTx(n.pid,10,"send");qt.network.broadcast(t.pid,r)}},{key:"render",value:function(){var e=this.state,t=e.messages;e.speed;return o.a.createElement("div",{id:"sandbox-container"},o.a.createElement(yn,{nodes:qt.nodes,links:Pn.links,messages:t||[]}),o.a.createElement(kn,{paypal:qt.network.paypal}),o.a.createElement(hn,{spend:this.spend.bind(this,qt.nodes[1])}))}}])&&On(n.prototype,r),i&&On(n,i),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");jn(e.prototype,t&&t.prototype),t&&jn(e,t)}(t,e),t}(r.Component),Wn=n(7);function $n(e){return($n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Un(e,t){return(Un=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Jn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vn(e,t){return!t||"object"!==$n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Kn(e){return(Kn=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var Bn,qn,Yn=0,Xn=function(e){e.classed("node",!0).append("circle").attr("r",function(e){return e.pid===Bn[0].pid?25:0}).attr("xlink:href",function(e){if(e.pid===Bn[0].pid)return e.img}).attr("cx",function(e){return e.x}).attr("cy",function(e){return e.y}).attr("fill",function(e){return e.color}),e.append("text").classed("noselect",!0).attr("font-size",40).attr("x",function(e){return e.x-22}).attr("y",function(e){return e.y+15}).text(function(e){if(e.pid!==Bn[0].pid)return e.emoji}),e.append("svg:image").attr("xlink:href",function(e){return e.img}).attr("x",function(e){return e.x-14}).attr("y",function(e){return e.y-14}).attr("height",function(e){return e.img?28:0}).attr("width",function(e){return e.img?28:0})},Zn=function(e){e.attr("fill",function(e){if(e.pid===Bn[0].pid)return e.color}).attr("stroke",function(e){return e.color}).attr("stroke-width",function(e){return 5})},er=function(e){e.classed("link",!0).attr("stroke-width",2).attr("stroke","grey").attr("x1",function(e){return e.source.x}).attr("y1",function(e){return e.source.y}).attr("x2",function(e){return e.target.x}).attr("y2",function(e){return e.target.y})},tr=function(e){},nr=function(e){e.classed("message",!0).classed("noselect",!0).attr("font-size",30).attr("x",function(e){return rr(e.sender).x-15}).attr("y",function(e){return rr(e.sender).y+10}).text("\ud83d\udcb5").append("tspan").text(function(e){return console.log(e),rr(e.sender).emoji+"\u27a1\ufe0f"+rr(e.message.contents.to).emoji}).attr("font-size",15).attr("dx",-38).attr("dy",12)},rr=function(e){return Bn.find(function(t){return t.pid===e})},or=function(e,t){var n=(e.time-e.sentTime)/(e.recvTime-e.sentTime),r=rr(e.recipient)[t],o=rr(e.sender)[t];return n*(r-o)+o},ir=function(e){e.transition().duration(300).ease(u.b).attr("x",function(e){return or(e,"x")-15}).attr("y",function(e){return or(e,"y")+10})},ar=function(e){e.size()&&qn.insert("circle",".node").attr("fill",Bn[0].badSpend?"red":"#7ed321").attr("cx",function(e){return Bn[0].x}).attr("cy",function(e){return Bn[0].y}).attr("r",function(e){return 33}).attr("opacity",function(e){return 0}).transition().duration(400).attr("opacity",function(e){return 1}).transition().duration(400).attr("opacity",function(e){return 0})},sr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Vn(this,Kn(t).apply(this,arguments))}var n,r,i;return n=t,(r=[{key:"componentDidMount",value:function(){qn=u.f(this.viz),this.d3Graph=u.f(this.viz)}},{key:"shouldComponentUpdate",value:function(e){Bn=e.nodes;this.props.onClick;this.d3Graph=u.f(this.viz),u.f(this.svg);var t=this.d3Graph.selectAll(".node").data(e.nodes,function(e){return e.pid});t.enter().append("g").call(Xn),t.exit().remove(),t.call(Zn);var n=this.d3Graph.selectAll(".link").data(e.links);n.enter().insert("line",".node").call(er),n.exit().remove(),n.call(tr);var r=this.d3Graph.selectAll(".message").data(e.messages,function(e){return e.message.sig+":"+e.recipient+":"+e.sender}),o=r.enter().insert("text",".node").call(nr);return r.exit().call(ar).remove(),r.merge(o).call(ir),Yn<this.props.minted&&(qn.insert("circle",".node").attr("fill","#7ed321").attr("cx",function(e){return Bn[4].x-2}).attr("cy",function(e){return Bn[4].y}).attr("r",function(e){return 25}).attr("opacity",function(e){return 0}).transition().duration(300).attr("opacity",function(e){return 1}).transition().duration(400).attr("opacity",function(e){return 0}).remove(),qn.append("text").classed("noselect",!0).attr("font-size",30).attr("x",function(e){return Bn[0].x-30}).attr("y",function(e){return Bn[0].y-30}).text("\ud83d\udc38\ud83d\udcb0").attr("opacity",function(e){return 0}).transition().duration(300).attr("opacity",function(e){return 1}).transition().duration(400).attr("opacity",function(e){return 0}).remove(),Yn=this.props.minted),!1}},{key:"render",value:function(){var e=this;return o.a.createElement("svg",{ref:function(t){return e.svg=t},width:"400px",height:"300px"},o.a.createElement("g",{ref:function(t){return e.viz=t}}))}}])&&Jn(n.prototype,r),i&&Jn(n,i),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Un(e.prototype,t&&t.prototype),t&&Un(e,t)}(t,e),t}(r.Component),ur=function(e){var t=e.spend;e.disabled;return o.a.createElement(z.a,{className:"spend",id:"paypal-spend",onClick:t},"Mint $10 to @ribbit")};function cr(e){return(cr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lr(e,t){return(lr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pr(e,t){return!t||"object"!==cr(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dr(e){return(dr=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var yr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),pr(this,dr(t).apply(this,arguments))}var n,r,i;return n=t,(r=[{key:"render",value:function(){var e=this.props.paypal,t=e.pid,n=["@unicorn","@tiger","@hamster","@ribbit","@fox","@koala","@chicken"],r=Object.keys(e.state).filter(function(e){return e!=t}).map(function(t,r){return o.a.createElement("div",{className:"ledger-row"},o.a.createElement("span",{className:"ledger-name"},n[r]),o.a.createElement("span",{className:"ledger-balance"},"$"+e.state[t].balance+".00"))});return o.a.createElement("div",{className:"ledger"},o.a.createElement("div",{className:"ledger-row"},o.a.createElement("span",{id:"venmo-database"},"Venmo's Database")),r)}}])&&fr(n.prototype,r),i&&fr(n,i),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");lr(e.prototype,t&&t.prototype),t&&lr(e,t)}(t,e),t}(r.Component);function hr(e){return(hr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){vr(e,t,n[t])})}return e}function vr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function br(e,t){return(br=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wr(e,t){return!t||"object"!==hr(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function kr(e){return(kr=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var xr={nodes:[],links:[]},Sr=!0,Er=!1,jr=void 0;try{for(var Or,_r=Wn.nodes[Symbol.iterator]();!(Sr=(Or=_r.next()).done);Sr=!0){var Tr=Or.value,Pr=!0,Cr=!1,Nr=void 0;try{for(var Qr,zr=Wn.network.peers[Tr.pid][Symbol.iterator]();!(Pr=(Qr=zr.next()).done);Pr=!0){var Mr=Qr.value;xr.links.push({source:Tr,target:Mr})}}catch(e){Cr=!0,Nr=e}finally{try{Pr||null==zr.return||zr.return()}finally{if(Cr)throw Nr}}}}catch(e){Er=!0,jr=e}finally{try{Sr||null==_r.return||_r.return()}finally{if(Er)throw jr}}Wn.nodes[0].x=200,Wn.nodes[0].y=145,Wn.nodes[1].x=25,Wn.nodes[1].y=160,Wn.nodes[2].x=330,Wn.nodes[2].y=270,Wn.nodes[3].x=25,Wn.nodes[3].y=80,Wn.nodes[4].x=300,Wn.nodes[4].y=120,Wn.nodes[5].x=360,Wn.nodes[5].y=160,Wn.nodes[6].x=130,Wn.nodes[6].y=80,Wn.nodes[7].x=130,Wn.nodes[7].y=200,Wn.nodes[0].color="#0089FF",Wn.nodes[0].img="venmo.svg",Wn.nodes[1].emoji="\ud83e\udd84",Wn.nodes[2].emoji="\ud83d\udc2f",Wn.nodes[3].emoji="\ud83d\udc39",Wn.nodes[4].emoji="\ud83d\udc38",Wn.nodes[5].emoji="\ud83e\udd8a",Wn.nodes[6].emoji="\ud83d\udc28",Wn.nodes[7].emoji="\ud83d\udc14";var Rr=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=wr(this,kr(t).call(this))).state={speed:1,messages:[],minted:0},e}var n,r,i;return n=t,(r=[{key:"componentDidMount",value:function(){this.timer=u.d(this.tick.bind(this),300/this.state.speed),u.d(this.randomSpend.bind(this),2e3)}},{key:"randomSpend",value:function(){var e=Wn.nodes[Math.floor(Math.random()*(Wn.nodes.length-2)+2)],t=Wn.nodes[Math.floor(Math.random()*(Wn.nodes.length-1)+1)];if(e.pid!==t.pid){var n=e.generateTx(t.pid,10,"send");Wn.network.broadcast(e.pid,n)}}},{key:"setMessageQueue",value:function(e){var t=e.messageQueue,n=[];return Object.keys(t).forEach(function(r,o){var i=!0,a=!1,s=void 0;try{for(var u,c=t[r][Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var l=mr({},u.value,{time:e.time});l.recipient=l.recipient.pid,n.push(l)}}catch(e){a=!0,s=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw s}}}),n}},{key:"tick",value:function(){Wn.network.tick();var e=this.setMessageQueue(Wn.network);this.setState({messages:e})}},{key:"getCurrNode",value:function(e){if(Wn.network)return Wn.network.agents.find(function(t){return t.pid===e})}},{key:"mint",value:function(e){console.log(e);var t=Wn.nodes[4],n=e.generateTx(t.pid,10,"mint");e.applyTransaction(n),this.setState({minted:this.state.minted+1})}},{key:"render",value:function(){var e=this.state,t=e.messages,n=(e.speed,e.minted);return o.a.createElement("div",{id:"sandbox-container"},o.a.createElement(sr,{nodes:Wn.nodes,links:xr.links,messages:t||[],minted:n}),o.a.createElement(yr,{paypal:Wn.network.paypal}),o.a.createElement(ur,{spend:this.mint.bind(this,Wn.nodes[0])}))}}])&&gr(n.prototype,r),i&&gr(n,i),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");br(e.prototype,t&&t.prototype),t&&br(e,t)}(t,e),t}(r.Component),Gr=n(2);function Dr(e){return(Dr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lr(e,t){return(Lr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ar(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hr(e,t){return!t||"object"!==Dr(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ir(e){return(Ir=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var Fr,Wr=function(e){e.classed("node",!0).append("circle").attr("r",function(e){return 0}).attr("cx",function(e){return e.x}).attr("cy",function(e){return e.y}).attr("fill",function(e){return e.color}),e.append("text").classed("noselect",!0).attr("font-size",30).attr("x",function(e){return e.x-17}).attr("y",function(e){return e.y+11}).text(function(e){return e.emoji}),e.append("svg:image").attr("xlink:href",function(e){return e.img}).attr("x",function(e){return e.x-14}).attr("y",function(e){return e.y-14}).attr("height",function(e){return e.img?28:0}).attr("width",function(e){return e.img?28:0})},$r=function(e){e.attr("fill",function(e){if(e.pid===Fr[0].pid)return e.color}).attr("stroke",function(e){return e.color}).attr("stroke-width",function(e){return 5})},Ur=function(e){e.classed("link",!0).attr("stroke-width",2).attr("stroke","grey").attr("stroke-dasharray",function(e){return e.source.pid==Fr[1].pid?4:0}).attr("x1",function(e){return e.source.x}).attr("y1",function(e){return e.source.y}).attr("x2",function(e){return e.target.x}).attr("y2",function(e){return e.target.y})},Jr=function(e){},Vr=function(e){e.classed("message",!0).classed("noselect",!0).attr("font-size",18).attr("x",function(e){return Kr(e.sender).x-15}).attr("y",function(e){return Kr(e.sender).y+10}).text("\ud83d\udcb5").append("tspan").text(function(e){return console.log(e),Kr(e.message.contents.from).emoji+"\u27a1\ufe0f"+Kr(e.message.contents.to).emoji}).attr("font-size",9).attr("dx",-25).attr("dy",5)},Kr=function(e){return Fr.find(function(t){return t.pid===e})},Br=function(e,t){var n=(e.time-e.sentTime)/(e.recvTime-e.sentTime),r=Kr(e.recipient)[t],o=Kr(e.sender)[t];return n*(r-o)+o},qr=function(e){e.transition().duration(300).ease(u.b).attr("x",function(e){return Br(e,"x")-15}).attr("y",function(e){return Br(e,"y")+10})},Yr=function(e){e.size()},Xr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Hr(this,Ir(t).apply(this,arguments))}var n,r,i;return n=t,(r=[{key:"componentDidMount",value:function(){u.f(this.viz),this.d3Graph=u.f(this.viz)}},{key:"shouldComponentUpdate",value:function(e){Fr=e.nodes;this.props.onClick;this.d3Graph=u.f(this.viz),u.f(this.svg);var t=this.d3Graph.selectAll(".node").data(e.nodes,function(e){return e.pid});t.enter().append("g").call(Wr),t.exit().remove(),t.call($r);var n=this.d3Graph.selectAll(".link").data(e.links);n.enter().insert("line",".node").call(Ur),n.exit().remove(),n.call(Jr);var r=this.d3Graph.selectAll(".message").data(e.messages,function(e){return e.message.sig+":"+e.recipient+":"+e.sender}),o=r.enter().insert("text",".node").call(Vr);return r.exit().call(Yr).remove(),r.merge(o).call(qr),!1}},{key:"render",value:function(){var e=this;return o.a.createElement("svg",{id:"world",ref:function(t){return e.svg=t},width:"600px",height:"300px"},o.a.createElement("g",{ref:function(t){return e.viz=t}}))}}])&&Ar(n.prototype,r),i&&Ar(n,i),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Lr(e.prototype,t&&t.prototype),t&&Lr(e,t)}(t,e),t}(r.Component);function Zr(e){return(Zr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){to(e,t,n[t])})}return e}function to(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function no(e,t){return(no=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ro(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oo(e,t){return!t||"object"!==Zr(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function io(e){return(io=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var ao={nodes:[],links:[]},so=!0,uo=!1,co=void 0;try{for(var lo,fo=Gr.nodes[Symbol.iterator]();!(so=(lo=fo.next()).done);so=!0){var po=lo.value,yo=!0,ho=!1,mo=void 0;try{for(var vo,bo=Gr.network.peers[po.pid][Symbol.iterator]();!(yo=(vo=bo.next()).done);yo=!0){var go=vo.value;ao.links.push({source:po,target:go})}}catch(e){ho=!0,mo=e}finally{try{yo||null==bo.return||bo.return()}finally{if(ho)throw mo}}}}catch(e){uo=!0,co=e}finally{try{so||null==fo.return||fo.return()}finally{if(uo)throw co}}Gr.nodes[0].x=500,Gr.nodes[0].y=60,Gr.nodes[1].x=35,Gr.nodes[1].y=110,Gr.nodes[2].x=460,Gr.nodes[2].y=140,Gr.nodes[3].x=85,Gr.nodes[3].y=80,Gr.nodes[4].x=300,Gr.nodes[4].y=120,Gr.nodes[5].x=360,Gr.nodes[5].y=50,Gr.nodes[6].x=570,Gr.nodes[6].y=270,Gr.nodes[7].x=130,Gr.nodes[7].y=190,Gr.nodes[8].x=337,Gr.nodes[8].y=270,Gr.nodes[9].x=340,Gr.nodes[9].y=220,Gr.nodes[10].x=160,Gr.nodes[10].y=240,Gr.nodes[11].x=530,Gr.nodes[11].y=110,Gr.nodes[12].x=450,Gr.nodes[12].y=215,Gr.nodes[13].x=250,Gr.nodes[13].y=260,Gr.nodes[0].emoji="\ud83d\udc37",Gr.nodes[1].emoji="\ud83e\udd84",Gr.nodes[2].emoji="\ud83d\udc2f",Gr.nodes[3].emoji="\ud83d\udc39",Gr.nodes[4].emoji="\ud83d\udc38",Gr.nodes[5].emoji="\ud83e\udd8a",Gr.nodes[6].emoji="\ud83d\udc28",Gr.nodes[7].emoji="\ud83d\udc14",Gr.nodes[8].emoji="\ud83d\udc27",Gr.nodes[9].emoji="\ud83e\udd81",Gr.nodes[10].emoji="\ud83d\udc35",Gr.nodes[11].emoji="\ud83d\udc3c",Gr.nodes[12].emoji="\ud83e\udd91",Gr.nodes[13].emoji="\ud83d\udc2c";var wo=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=oo(this,io(t).call(this))).state={speed:1,messages:[]},e}var n,r,i;return n=t,(r=[{key:"componentDidMount",value:function(){this.timer=u.d(this.tick.bind(this),300/this.state.speed),u.d(this.randomSpend.bind(this),7e3)}},{key:"randomSpend",value:function(){var e=Gr.nodes[Math.floor(Math.random()*Gr.nodes.length)],t=Gr.nodes[Math.floor(Math.random()*Gr.nodes.length)];if(e.pid!==t.pid){var n=e.generateTx(t.pid,10,"send");Gr.network.broadcast(e.pid,n)}}},{key:"setMessageQueue",value:function(e){var t=e.messageQueue,n=[];return Object.keys(t).forEach(function(r,o){var i=!0,a=!1,s=void 0;try{for(var u,c=t[r][Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var l=eo({},u.value,{time:e.time});l.recipient=l.recipient.pid,n.push(l)}}catch(e){a=!0,s=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw s}}}),n}},{key:"tick",value:function(){Gr.network.tick();var e=this.setMessageQueue(Gr.network);this.setState({messages:e})}},{key:"getCurrNode",value:function(e){if(Gr.network)return Gr.network.agents.find(function(t){return t.pid===e})}},{key:"spend",value:function(e){console.log(e);var t=this.getCurrNode(e.pid),n=Gr.nodes[Math.floor(Math.random()*Gr.nodes.length)],r=t.generateTx(n.pid,10,"send");Gr.network.broadcast(t.pid,r)}},{key:"render",value:function(){var e=this.state,t=e.messages;e.speed;return o.a.createElement("div",{id:"sandbox-container-five"},o.a.createElement(Xr,{nodes:Gr.nodes,links:ao.links,messages:t||[]}))}}])&&ro(n.prototype,r),i&&ro(n,i),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");no(e.prototype,t&&t.prototype),t&&no(e,t)}(t,e),t}(r.Component),ko=function(){return o.a.createElement("div",{className:"App"},o.a.createElement("div",{id:"title"},o.a.createElement("h1",null,"Why Decentralize?"),o.a.createElement("h6",null,"Made by ",o.a.createElement("a",{href:"http://gokulan.me"},"Goki")," and ",o.a.createElement("a",{href:"http://kevinjho.co"},"Kevin")," during ETHDenver 2019")),o.a.createElement("p",null,'Hey there, \ud83e\udd84! There\u2019s a lot of talk about "blockchains" about ',o.a.createElement("strong",null,"decentralization"),", but what is it about centralization that we wish to undo? Is there really anything wrong with centralized systems?  Let\u2019s dig deeper. We\u2019ll show you what really happens when you use a centralized financial system like Venmo or your bank. "),o.a.createElement("br",null),o.a.createElement("p",{className:"helper-text"},"Draw a line from yourself (\ud83e\udd84) to Venmo to join.",o.a.createElement("br",null),"Then try sending some money to @tiger!"),o.a.createElement("div",{className:"interactive"},o.a.createElement(ae,null)),o.a.createElement("br",null),o.a.createElement("p",null,"In the real world there are more than 2 users. A centralized payment network looks a bit more like this. "),o.a.createElement("br",null),o.a.createElement("p",{className:"helper-text"},"Send money to a friend!"),o.a.createElement("div",{className:"interactive"},o.a.createElement(Xe,null)),o.a.createElement("p",null,"This is how centralized payment systems work. They\u2019re super efficient and simple. (Our implementation of this Paypal operator is under 200 lines of code!) Having a single powerful server means that you can handle millions of transactions per second. This system is very fast and makes having many users easy. But not everyone can use these systems. 1.7 billion adults, largely in developing countries, remain unbanked."),o.a.createElement("br",null),o.a.createElement("p",{className:"helper-text"},"Try to connect \ud83e\udd84 to Venmo to transact with your friends!"),o.a.createElement("div",{className:"interactive"},o.a.createElement(Bt,null)),o.a.createElement("br",null),o.a.createElement("p",null,"If you happen to be lucky enough to have been born into a developed country like the United States of Amphibia, then you typically have access to traditional financial systems. These systems are not as impartial as one would hope. Having a single server accept all transactions means that the server has control over which orders get processed. It is possible for specific groups such as the small Unicorn population to have their orders censored by these central operators."),o.a.createElement("br",null),o.a.createElement("p",{className:"helper-text"},"Try to transact with your friends!"),o.a.createElement("div",{className:"interactive"},o.a.createElement(Fn,null)),o.a.createElement("br",null),o.a.createElement("p",null,"Centralized financial systems are not required to be transparent about their internal processes. Besides censorship, it is possible for other subtler abuses of power. The lack of transparency allows central operators like Wells Frogo to mint arbitrary amounts of money for those at the top. "),o.a.createElement("br",null),o.a.createElement("p",{className:"helper-text"},"You're paypal! Click to mint money for frog!"),o.a.createElement("div",{className:"interactive"},o.a.createElement(Rr,null)),o.a.createElement("p",null,"We put a lot of trust in central operators to keep our funds secure, and for banks, we trust that they won't print so much money that everyone's money becomes worthless."),o.a.createElement("br",null),o.a.createElement("p",null,"What if we could create an open financial system that doesn\u2019t exclude or censor people, or allow the minting of arbitrary amounts of money? ",o.a.createElement("br",null),o.a.createElement("br",null),"1. Anyone should be able to join the network.",o.a.createElement("br",null),"2. The network should be censorship-resistant.",o.a.createElement("br",null),"3. More than one entity should be in charge of maintaining balances to prevent minting.",o.a.createElement("br",null),o.a.createElement("br",null),"Good news! Lots of people are learning about and building such networks."),o.a.createElement("br",null),o.a.createElement("p",{className:"helper-text"},"Part of the solution is what's called a peer-to-peer network, where everyone is connected to each other."),o.a.createElement("div",{id:"interactive-five"},o.a.createElement(wo,null)),o.a.createElement("h3",{id:"bottom"},"Check out ",o.a.createElement("a",{href:"http://cryptoeconomics.study"},"cryptoeconomics.study")," to learn more!"),o.a.createElement("img",{src:"cryptoecon.png",id:"logo",width:"100px"}))},xo=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function So(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}a.a.render(o.a.createElement(ko,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/why_decentralize",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/why_decentralize","/service-worker.js");xo?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):So(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):So(e)})}}()},160:function(e,t,n){function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.getPrototypeOf||function(e){return e.__proto__})(e)}n(13);var u=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=a(this,s(t).call(this,e))).transactions={},n}var n,r,u;return n=t,(r=[{key:"onReceive",value:function(e){this.transactions[e.sig]||(this.network.broadcast(this.pid,e),this.applyTransaction(e),this.transactions[e.sig]=!0)}},{key:"applyTransaction",value:function(e){if(!this.verify(e.sig,this.toHash(e.contents),e.contents.from))throw new Error("Invalid signature!");if(e.contents.nonce===this.state[e.contents.from].nonce+1){if(e.contents.to in this.state||(this.state[e.contents.to]={balance:0,nonce:-1}),"mint"===e.contents.type){if(e.contents.from!==this.wallet.address)throw new Error("Non-Paypal Clients can't mint!");this.state[e.contents.to].balance+=e.contents.amount}else if("send"===e.contents.type){if(this.state[e.contents.from].balance-e.contents.amount<0)return this.badSpend=!0,void this.state[e.contents.from].nonce++;this.badSpend=!1,this.state[e.contents.from].balance-=e.contents.amount,this.state[e.contents.to].balance+=e.contents.amount}this.state[e.contents.from].nonce+=1}else this.badSpend=!0}}])&&i(n.prototype,r),u&&i(n,u),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");o(e.prototype,t&&t.prototype),t&&o(e,t)}(t,e),t}(n(90));e.exports=u},161:function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(35),i=n(26),a=n(34),s=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);i.randomNormal.source(a("a22ebc7c488a3a47"))(t,2*t/5);this.agents=[],this.latency=t,this.time=0,this.messageQueue={},this.peers={},this.packetLoss=n}var t,n,s;return t=e,(n=[{key:"connectPeer",value:function(e,t){e.network=this;var n=o.shuffle(this.agents);this.agents.push(e),this.peers[e.pid]=[];var r=!0,i=!1,a=void 0;try{for(var s,u=n.slice(0,t)[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value;this.peers[e.pid].push(c),this.peers[c.pid].push(e)}}catch(e){i=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}}},{key:"connectToPaypal",value:function(e,t){e.network=this,this.agents.push(e),this.peers[e.pid]=[t]}},{key:"broadcast",value:function(e,t){var n=!0,r=!1,o=void 0;try{for(var i,a=this.peers[e][Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;this.broadcastTo(e,s,t)}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}},{key:"broadcastTo",value:function(e,t,n){var r=this.time+this.latency;r in this.messageQueue||(this.messageQueue[r]=[]),this.messageQueue[r].push({sender:e,sentTime:this.time,recipient:t,recvTime:r,message:n})}},{key:"tick",value:function(){if(this.time in this.messageQueue){var e=!0,t=!1,n=void 0;try{for(var r,o=this.messageQueue[this.time][Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value,a=i.recipient,s=i.message;Math.random()>this.packetLoss&&(console.log("recipient",a),a.onReceive(s))}}catch(e){t=!0,n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}delete this.messageQueue[this.time]}var u=!0,c=!1,l=void 0;try{for(var f,p=this.agents[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){f.value.tick()}}catch(e){c=!0,l=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw l}}this.time+=1}},{key:"run",value:function(e){for(var t=0;t<e;t++)this.tick()}}])&&r(t.prototype,n),s&&r(t,s),e}();e.exports=s},162:function(e,t,n){function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.getPrototypeOf||function(e){return e.__proto__})(e)}n(13);var u=function(e){function t(e){var n,r,o,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=a(this,s(t).call(this,e))).state=(r={},o=n.wallet.address,i={balance:0,nonce:-1},o in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i,r),n.transactions=[],n}var n,r,u;return n=t,(r=[{key:"onReceive",value:function(e){this.applyTransaction(e)}},{key:"applyTransaction",value:function(e){if(!this.verify(e.sig,this.toHash(e.contents),e.contents.from))throw new Error("Invalid signature!");if(e.contents.nonce===this.state[e.contents.from].nonce+1){if(e.contents.to in this.state||(this.state[e.contents.to]={balance:0,nonce:-1}),"mint"===e.contents.type){if(e.contents.from!==this.wallet.address)throw new Error("Non-Paypal Clients can't mint!");this.state[e.contents.to].balance+=e.contents.amount}else if("send"===e.contents.type){if(this.state[e.contents.from].balance-e.contents.amount<0)return this.badSpend=!0,void this.state[e.contents.from].nonce++;this.badSpend=!1,this.state[e.contents.from].balance-=e.contents.amount,this.state[e.contents.to].balance+=e.contents.amount}this.state[e.contents.from].nonce+=1}}}])&&i(n.prototype,r),u&&i(n,u),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");o(e.prototype,t&&t.prototype),t&&o(e,t)}(t,e),t}(n(91));e.exports=u},163:function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(35),i=n(26),a=n(34),s=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);i.randomNormal.source(a("a22ebc7c488a3a47"))(t,2*t/5);this.agents=[],this.latency=t,this.time=0,this.messageQueue={},this.peers={},this.packetLoss=n}var t,n,s;return t=e,(n=[{key:"connectPeer",value:function(e,t){e.network=this;var n=o.shuffle(this.agents);this.agents.push(e),this.peers[e.pid]=[];var r=!0,i=!1,a=void 0;try{for(var s,u=n.slice(0,t)[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value;this.peers[e.pid].push(c),this.peers[c.pid].push(e)}}catch(e){i=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}}},{key:"connectToPaypal",value:function(e,t){e.network=this,this.agents.push(e),this.peers[e.pid]=[t]}},{key:"broadcast",value:function(e,t){var n=!0,r=!1,o=void 0;try{for(var i,a=this.peers[e][Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;this.broadcastTo(e,s,t)}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}},{key:"broadcastTo",value:function(e,t,n){var r=this.time+this.latency;r in this.messageQueue||(this.messageQueue[r]=[]),this.messageQueue[r].push({sender:e,sentTime:this.time,recipient:t,recvTime:r,message:n})}},{key:"tick",value:function(){if(this.time in this.messageQueue){var e=!0,t=!1,n=void 0;try{for(var r,o=this.messageQueue[this.time][Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value,a=i.recipient,s=i.message;Math.random()>this.packetLoss&&a.onReceive(s)}}catch(e){t=!0,n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}delete this.messageQueue[this.time]}var u=!0,c=!1,l=void 0;try{for(var f,p=this.agents[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){f.value.tick()}}catch(e){c=!0,l=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw l}}this.time+=1}},{key:"run",value:function(e){for(var t=0;t<e;t++)this.tick()}}])&&r(t.prototype,n),s&&r(t,s),e}();e.exports=s},164:function(e,t,n){function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.getPrototypeOf||function(e){return e.__proto__})(e)}n(13);var u=function(e){function t(e){var n,r,o,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=a(this,s(t).call(this,e))).state=(r={},o=n.wallet.address,i={balance:0,nonce:-1},o in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i,r),n.transactions=[],n}var n,r,u;return n=t,(r=[{key:"onReceive",value:function(e){this.applyTransaction(e)}},{key:"applyTransaction",value:function(e){if(!this.verify(e.sig,this.toHash(e.contents),e.contents.from))throw new Error("Invalid signature!");if(e.contents.nonce===this.state[e.contents.from].nonce+1){if(e.contents.to in this.state||(this.state[e.contents.to]={balance:0,nonce:-1}),"mint"===e.contents.type){if(e.contents.from!==this.wallet.address)throw new Error("Non-Paypal Clients can't mint!");this.state[e.contents.to].balance+=e.contents.amount}else if("send"===e.contents.type){if(this.state[e.contents.from].balance-e.contents.amount<0)return this.badSpend=!0,void this.state[e.contents.from].nonce++;this.badSpend=!1,this.state[e.contents.from].balance-=e.contents.amount,this.state[e.contents.to].balance+=e.contents.amount}this.state[e.contents.from].nonce+=1}else this.badSpend=!0}}])&&i(n.prototype,r),u&&i(n,u),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");o(e.prototype,t&&t.prototype),t&&o(e,t)}(t,e),t}(n(92));e.exports=u},165:function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(35),i=n(26),a=n(34),s=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);i.randomNormal.source(a("a22ebc7c488a3a47"))(t,2*t/5);this.agents=[],this.latency=t,this.time=0,this.messageQueue={},this.peers={},this.packetLoss=n}var t,n,s;return t=e,(n=[{key:"connectPeer",value:function(e,t){e.network=this;var n=o.shuffle(this.agents);this.agents.push(e),this.peers[e.pid]=[];var r=!0,i=!1,a=void 0;try{for(var s,u=n.slice(0,t)[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value;this.peers[e.pid].push(c),this.peers[c.pid].push(e)}}catch(e){i=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}}},{key:"connectToPaypal",value:function(e,t){e.network=this,this.agents.push(e),this.peers[e.pid]=[t]}},{key:"broadcast",value:function(e,t){var n=!0,r=!1,o=void 0;try{for(var i,a=this.peers[e][Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;this.broadcastTo(e,s,t)}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}},{key:"broadcastTo",value:function(e,t,n){var r=this.time+this.latency;r in this.messageQueue||(this.messageQueue[r]=[]),this.messageQueue[r].push({sender:e,sentTime:this.time,recipient:t,recvTime:r,message:n})}},{key:"tick",value:function(){if(this.time in this.messageQueue){var e=!0,t=!1,n=void 0;try{for(var r,o=this.messageQueue[this.time][Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value,a=i.recipient,s=i.message;Math.random()>this.packetLoss&&(console.log("recipient",a),a.onReceive(s))}}catch(e){t=!0,n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}delete this.messageQueue[this.time]}var u=!0,c=!1,l=void 0;try{for(var f,p=this.agents[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){f.value.tick()}}catch(e){c=!0,l=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw l}}this.time+=1}},{key:"run",value:function(e){for(var t=0;t<e;t++)this.tick()}}])&&r(t.prototype,n),s&&r(t,s),e}();e.exports=s},166:function(e,t,n){function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.getPrototypeOf||function(e){return e.__proto__})(e)}n(13);var u=function(e){function t(e){var n,r,o,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=a(this,s(t).call(this,e))).state=(r={},o=n.wallet.address,i={balance:0,nonce:-1},o in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i,r),n.transactions=[],n}var n,r,u;return n=t,(r=[{key:"onReceive",value:function(e){this.applyTransaction(e)}},{key:"applyTransaction",value:function(e){if(!this.verify(e.sig,this.toHash(e.contents),e.contents.from))throw new Error("Invalid signature!");if(e.contents.nonce===this.state[e.contents.from].nonce+1){if(e.contents.to in this.state||(this.state[e.contents.to]={balance:0,nonce:-1}),"mint"===e.contents.type){if(e.contents.from!==this.wallet.address)throw new Error("Non-Paypal Clients can't mint!");this.state[e.contents.to].balance+=e.contents.amount}else if("send"===e.contents.type){if(this.state[e.contents.from].balance-e.contents.amount<0)return void(this.badSpend=!0);this.badSpend=!1,this.state[e.contents.from].balance-=e.contents.amount,this.state[e.contents.to].balance+=e.contents.amount}this.state[e.contents.from].nonce+=1}}}])&&i(n.prototype,r),u&&i(n,u),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");o(e.prototype,t&&t.prototype),t&&o(e,t)}(t,e),t}(n(93));e.exports=u},167:function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(35),i=n(26),a=n(34),s=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);i.randomNormal.source(a("a22ebc7c488a3a47"))(t,2*t/5);this.agents=[],this.latency=t,this.time=0,this.messageQueue={},this.peers={},this.packetLoss=n}var t,n,s;return t=e,(n=[{key:"connectPeer",value:function(e,t){e.network=this;var n=o.shuffle(this.agents);this.agents.push(e),this.peers[e.pid]=[];var r=!0,i=!1,a=void 0;try{for(var s,u=n.slice(0,t)[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value;this.peers[e.pid].push(c),this.peers[c.pid].push(e)}}catch(e){i=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}}},{key:"connectToPaypal",value:function(e,t){e.network=this,this.agents.push(e),this.peers[e.pid]=[t]}},{key:"broadcast",value:function(e,t){var n=!0,r=!1,o=void 0;try{for(var i,a=this.peers[e][Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;this.broadcastTo(e,s,t)}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}},{key:"broadcastTo",value:function(e,t,n){var r=this.time+this.latency;r in this.messageQueue||(this.messageQueue[r]=[]),this.messageQueue[r].push({sender:e,sentTime:this.time,recipient:t,recvTime:r,message:n})}},{key:"tick",value:function(){if(this.time in this.messageQueue){var e=!0,t=!1,n=void 0;try{for(var r,o=this.messageQueue[this.time][Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value,a=i.recipient,s=i.message;Math.random()>this.packetLoss&&(console.log("recipient",a),a.onReceive(s))}}catch(e){t=!0,n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}delete this.messageQueue[this.time]}var u=!0,c=!1,l=void 0;try{for(var f,p=this.agents[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){f.value.tick()}}catch(e){c=!0,l=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw l}}this.time+=1}},{key:"run",value:function(e){for(var t=0;t<e;t++)this.tick()}}])&&r(t.prototype,n),s&&r(t,s),e}();e.exports=s},168:function(e,t,n){function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.getPrototypeOf||function(e){return e.__proto__})(e)}n(13);var u=function(e){function t(e){var n,r,o,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=a(this,s(t).call(this,e))).state=(r={},o=n.wallet.address,i={balance:0,nonce:-1},o in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i,r),n.transactions=[],n}var n,r,u;return n=t,(r=[{key:"onReceive",value:function(e){this.applyTransaction(e)}},{key:"applyTransaction",value:function(e){if(!this.verify(e.sig,this.toHash(e.contents),e.contents.from))throw new Error("Invalid signature!");if(e.contents.nonce===this.state[e.contents.from].nonce+1){if(e.contents.to in this.state||(this.state[e.contents.to]={balance:0,nonce:-1}),"mint"===e.contents.type){if(e.contents.from!==this.wallet.address)throw new Error("Non-Paypal Clients can't mint!");this.state[e.contents.to].balance+=e.contents.amount}else if("send"===e.contents.type){if(this.state[e.contents.from].balance-e.contents.amount<0)return this.badSpend=!0,void this.state[e.contents.from].nonce++;this.badSpend=!1,this.state[e.contents.from].balance-=e.contents.amount,this.state[e.contents.to].balance+=e.contents.amount}this.state[e.contents.from].nonce+=1}}}])&&i(n.prototype,r),u&&i(n,u),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");o(e.prototype,t&&t.prototype),t&&o(e,t)}(t,e),t}(n(94));e.exports=u},169:function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(35),i=n(26),a=n(34),s=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);i.randomNormal.source(a("a22ebc7c488a3a47"))(t,2*t/5);this.agents=[],this.latency=t,this.time=0,this.messageQueue={},this.peers={},this.packetLoss=n}var t,n,s;return t=e,(n=[{key:"connectPeer",value:function(e,t){e.network=this;var n=o.shuffle(this.agents);this.agents.push(e),this.peers[e.pid]=[];var r=!0,i=!1,a=void 0;try{for(var s,u=n.slice(0,t)[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value;this.peers[e.pid].push(c),this.peers[c.pid].push(e)}}catch(e){i=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}}},{key:"connectToPaypal",value:function(e,t){e.network=this,this.agents.push(e),this.peers[e.pid]=[t]}},{key:"broadcast",value:function(e,t){var n=!0,r=!1,o=void 0;try{for(var i,a=this.peers[e][Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;this.broadcastTo(e,s,t)}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}},{key:"broadcastTo",value:function(e,t,n){var r=this.time+this.latency;r in this.messageQueue||(this.messageQueue[r]=[]),this.messageQueue[r].push({sender:e,sentTime:this.time,recipient:t,recvTime:r,message:n})}},{key:"tick",value:function(){if(this.time in this.messageQueue){var e=!0,t=!1,n=void 0;try{for(var r,o=this.messageQueue[this.time][Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value,a=i.recipient,s=i.message;Math.random()>this.packetLoss&&(console.log("recipient",a),a.onReceive(s))}}catch(e){t=!0,n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}delete this.messageQueue[this.time]}var u=!0,c=!1,l=void 0;try{for(var f,p=this.agents[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){f.value.tick()}}catch(e){c=!0,l=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw l}}this.time+=1}},{key:"run",value:function(e){for(var t=0;t<e;t++)this.tick()}}])&&r(t.prototype,n),s&&r(t,s),e}();e.exports=s},2:function(e,t,n){n(13);for(var r=n(161),o=(n(90),n(160)),i=(n(30),new r(10,0)),a=[],s=0;s<=13;s++)a.push(new o(i)),i.connectPeer(a[s],Math.random()>.5?2:1);for(var u={},c=a.length-1;c>=0;c--)u[a[c].wallet.address]={balance:100,nonce:-1};for(c=a.length-1;c>=0;c--)a[c].state=u;i.run(100),e.exports={nodes:a,network:i}},205:function(e,t,n){function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.getPrototypeOf||function(e){return e.__proto__})(e)}n(13);var u=function(e){function t(e){var n,r,o,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=a(this,s(t).call(this,e))).state=(r={},o=n.wallet.address,i={balance:0,nonce:-1},o in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i,r),n.transactions=[],n}var n,r,u;return n=t,(r=[{key:"onReceive",value:function(e){this.applyTransaction(e)}},{key:"applyTransaction",value:function(e){if(!this.verify(e.sig,this.toHash(e.contents),e.contents.from))throw new Error("Invalid signature!");if(e.contents.nonce===this.state[e.contents.from].nonce+1){if(e.contents.to in this.state||(this.state[e.contents.to]={balance:0,nonce:-1}),"mint"===e.contents.type){if(e.contents.from!==this.wallet.address)throw new Error("Non-Paypal Clients can't mint!");this.state[e.contents.to].balance+=e.contents.amount}else if("send"===e.contents.type){if(this.state[e.contents.from].balance-e.contents.amount<0)return void(this.badSpend=!0);this.badSpend=!1,this.state[e.contents.from].balance-=e.contents.amount,this.state[e.contents.to].balance+=e.contents.amount}this.state[e.contents.from].nonce+=1}}}])&&i(n.prototype,r),u&&i(n,u),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");o(e.prototype,t&&t.prototype),t&&o(e,t)}(t,e),t}(n(106));e.exports=u},206:function(e,t){},214:function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(35),i=n(26),a=n(34),s=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);i.randomNormal.source(a("a22ebc7c488a3a47"))(t,2*t/5);this.agents=[],this.latency=t,this.time=0,this.messageQueue={},this.peers={},this.packetLoss=n}var t,n,s;return t=e,(n=[{key:"connectPeer",value:function(e,t){e.network=this;var n=o.shuffle(this.agents);this.agents.push(e),this.peers[e.pid]=[];var r=!0,i=!1,a=void 0;try{for(var s,u=n.slice(0,t)[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value;this.peers[e.pid].push(c),this.peers[c.pid].push(e)}}catch(e){i=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}}},{key:"connectToPaypal",value:function(e,t){e.network=this,this.agents.push(e),this.peers[e.pid]=[t]}},{key:"broadcast",value:function(e,t){var n=!0,r=!1,o=void 0;try{for(var i,a=this.peers[e][Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;this.broadcastTo(e,s,t)}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}},{key:"broadcastTo",value:function(e,t,n){var r=this.time+this.latency;r in this.messageQueue||(this.messageQueue[r]=[]),this.messageQueue[r].push({sender:e,sentTime:this.time,recipient:t,recvTime:r,message:n})}},{key:"tick",value:function(){if(this.time in this.messageQueue){var e=!0,t=!1,n=void 0;try{for(var r,o=this.messageQueue[this.time][Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value,a=i.recipient,s=i.message;Math.random()>this.packetLoss&&(console.log("recipient",a),a.onReceive(s))}}catch(e){t=!0,n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}delete this.messageQueue[this.time]}var u=!0,c=!1,l=void 0;try{for(var f,p=this.agents[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){f.value.tick()}}catch(e){c=!0,l=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw l}}this.time+=1}},{key:"run",value:function(e){for(var t=0;t<e;t++)this.tick()}}])&&r(t.prototype,n),s&&r(t,s),e}();e.exports=s},293:function(e,t){},296:function(e,t){},3:function(e,t,n){n(13);var r=n(165),o=n(92),i=n(164),a=(n(30),new r(10,0)),s=[],u=new i(a);a.paypal=u,a.peers[u.pid]=[],s.push(u);for(var c=1;c<=7;c++)s.push(new o(a)),a.connectToPaypal(s[c],u);s[1].nonce=420,console.log(a.peers);for(var l=[38,98,28,76,12,86,89],f=1;f<=7;f++){var p=s[0].generateTx(s[f].pid,l[f-1],"mint");s[0].applyTransaction(p)}a.run(100),console.log("state",u.state),e.exports={nodes:s,network:a}},317:function(e,t){},319:function(e,t){},325:function(e,t,n){},326:function(e,t,n){},340:function(e,t,n){n(339),e.exports=n(159)},4:function(e,t,n){n(13);var r=n(169),o=n(94),i=n(168),a=(n(30),new r(10,0)),s=[],u=new i(a);a.paypal=u,a.peers[u.pid]=[],s.push(u);for(var c=1;c<=7;c++)s.push(new o(a)),a.connectToPaypal(s[c],u);console.log(a.peers);for(var l=[38,98,28,76,12,86,89],f=1;f<=7;f++){var p=s[0].generateTx(s[f].pid,l[f-1],"mint");s[0].applyTransaction(p)}a.run(100),console.log("state",u.state),e.exports={nodes:s,network:a}},6:function(e,t,n){n(13);var r=n(167),o=n(93),i=n(166),a=(n(30),new r(10,0)),s=[],u=new i(a);a.paypal=u,a.peers[u.pid]=[],s.push(u);for(var c=1;c<=7;c++)s.push(new o(a)),c>=2&&a.connectToPaypal(s[c],u);a.peers[s[1].pid]=[],console.log(a.peers);for(var l=[38,98,28,76,12,86,89],f=1;f<=7;f++){var p=s[0].generateTx(s[f].pid,l[f-1],"mint");s[0].applyTransaction(p)}a.run(100),console.log("state",u.state),e.exports={nodes:s,network:a}},7:function(e,t,n){n(13);var r=n(163),o=n(91),i=n(162),a=(n(30),new r(10,0)),s=[],u=new i(a);a.paypal=u,a.peers[u.pid]=[],s.push(u);for(var c=1;c<=7;c++)s.push(new o(a)),a.connectToPaypal(s[c],u);console.log(a.peers);for(var l=[38,98,28,76,12,86,89],f=1;f<=7;f++){var p=s[0].generateTx(s[f].pid,l[f-1],"mint");s[0].applyTransaction(p)}a.run(100),console.log("state",u.state),e.exports={nodes:s,network:a}},90:function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(13),i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.wallet=o.createIdentity(),this.nonce=-1,this.network=t,this.pid=this.wallet.address}var t,n,i;return t=e,(n=[{key:"toHash",value:function(e){var t=JSON.stringify(e);return o.hash.keccak256(t)}},{key:"sign",value:function(e){var t=this.toHash(e);return o.sign(this.wallet.privateKey,t)}},{key:"verify",value:function(e,t,n){return o.recover(e,t)===n}},{key:"generateTx",value:function(e,t,n){var r={type:n,amount:t,from:this.wallet.address,to:e,nonce:++this.nonce};return{contents:r,sig:this.sign(r)}}},{key:"tick",value:function(){}}])&&r(t.prototype,n),i&&r(t,i),e}();e.exports=i},91:function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(13),i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.wallet=o.createIdentity(),this.nonce=-1,this.network=t,this.pid=this.wallet.address}var t,n,i;return t=e,(n=[{key:"toHash",value:function(e){var t=JSON.stringify(e);return o.hash.keccak256(t)}},{key:"sign",value:function(e){var t=this.toHash(e);return o.sign(this.wallet.privateKey,t)}},{key:"verify",value:function(e,t,n){return o.recover(e,t)===n}},{key:"generateTx",value:function(e,t,n){var r={type:n,amount:t,from:this.wallet.address,to:e,nonce:++this.nonce};return{contents:r,sig:this.sign(r)}}},{key:"tick",value:function(){}}])&&r(t.prototype,n),i&&r(t,i),e}();e.exports=i},92:function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(13),i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.wallet=o.createIdentity(),this.nonce=-1,this.network=t,this.pid=this.wallet.address}var t,n,i;return t=e,(n=[{key:"toHash",value:function(e){var t=JSON.stringify(e);return o.hash.keccak256(t)}},{key:"sign",value:function(e){var t=this.toHash(e);return o.sign(this.wallet.privateKey,t)}},{key:"verify",value:function(e,t,n){return o.recover(e,t)===n}},{key:"generateTx",value:function(e,t,n){var r={type:n,amount:t,from:this.wallet.address,to:e,nonce:++this.nonce};return{contents:r,sig:this.sign(r)}}},{key:"tick",value:function(){}}])&&r(t.prototype,n),i&&r(t,i),e}();e.exports=i},93:function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(13),i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.wallet=o.createIdentity(),this.nonce=-1,this.network=t,this.pid=this.wallet.address}var t,n,i;return t=e,(n=[{key:"toHash",value:function(e){var t=JSON.stringify(e);return o.hash.keccak256(t)}},{key:"sign",value:function(e){var t=this.toHash(e);return o.sign(this.wallet.privateKey,t)}},{key:"verify",value:function(e,t,n){return o.recover(e,t)===n}},{key:"generateTx",value:function(e,t,n){var r={type:n,amount:t,from:this.wallet.address,to:e,nonce:++this.nonce};return{contents:r,sig:this.sign(r)}}},{key:"tick",value:function(){}}])&&r(t.prototype,n),i&&r(t,i),e}();e.exports=i},94:function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(13),i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.wallet=o.createIdentity(),this.nonce=-1,this.network=t,this.pid=this.wallet.address}var t,n,i;return t=e,(n=[{key:"toHash",value:function(e){var t=JSON.stringify(e);return o.hash.keccak256(t)}},{key:"sign",value:function(e){var t=this.toHash(e);return o.sign(this.wallet.privateKey,t)}},{key:"verify",value:function(e,t,n){return o.recover(e,t)===n}},{key:"generateTx",value:function(e,t,n){var r={type:n,amount:t,from:this.wallet.address,to:e,nonce:++this.nonce};return{contents:r,sig:this.sign(r)}}},{key:"tick",value:function(){}}])&&r(t.prototype,n),i&&r(t,i),e}();e.exports=i}},[[340,0,1]]]);
//# sourceMappingURL=main.d9436cc6.chunk.js.map